using System.Collections;
using UnityEngine;

public class InvulnerabilityFrames : MonoBehaviour {
    [Header ("References")]
    [SerializeField] private PlayerHealth health;

    [Header ("Behavior Settings")]
    [SerializeField] private int numOfFlash;

    public void Flash () {
        StartCoroutine (FlashCoroutine ());
    }

    // IFrame flashing
    private IEnumerator FlashCoroutine () {
        int flashCounter = 0;
        health.isInvulnerable = true;
        while (flashCounter < numOfFlash) {
            yield return new WaitForSeconds (0.2f) ;
            GetComponent<SpriteFlash>().PlayDamagedFlashEffect();
            flashCounter++;
        }
        health.isInvulnerable = false;
    }

}